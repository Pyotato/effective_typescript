# 🦆 ITEM 4 : 구조적 타이핑에 익숙해지기

자바스크립트는 본질적으로 **덕 타이핑(duck typing)** 기반입니다.

> 덕 타이핑이란, 개체가 어떤 타입에 부합하는 변수와 메서드를 가질 경우 객체를 적당 타입에 속하는 거으로 간주하는 방식입니다 덕 테스트에서 유래되었는데, 다음과 같은 명제로정의됩니다.
>
> "만약 어떤 새가 오리처럼 헤엄치고, 꽥꽥거리는 소리를 낸다면 나는 그 새를 오리라고 부를 것이다"

만약 어떤 함수의 매개변수 값이 모두 제대로 주어진다면, 그 값이 어떻게 만들어졌는지 신경쓰지 않고 사용합니다. 
타입스크립트는 이런 동작, 즉 매개변수 값이 요구사항을 만족한다면 타입이 무엇인지 신경 쓰지 않는 동작을 그대로 모델링합니다. 
그런데 타입 체커의 타입에 대한 이해도가 사람과 조금 다르기 때문에 가끔 예상치 못한 결과가 나오기도 합니다. 
구조적 타이핑을 제대로 이해한다면 오류인 경우와 오류가 아닌 경우의 차이를 알 수 있고, 더욱 견고한 코드를 작성할 수 있습니다.

물리 라이브러리와 2D 벡터 타입을 다루는 경우를 가정해 보겠습니다.

```ts
interface Vertor2D{
   x: number;
   y: number;
}
```

벡터의 길이를 계산하는 함수는 다음과 같습니다.

```ts
function calculateLength(v: Vector2D){
  return Math.sqrt(v.x*v.x+v.y*v.y);
}
```

이제 이름이 들어간 벡터를 추가합니다. 

```ts
interface NamedVector{
  name: string;
  x: number;
  y: number;
}
```

NamedVector는 number 타입의 x와 y속성이 있기 때문에 calculateLength 함수로 호출 가능합니다. 타입스크립트는 다음 코드를 이해할 수 있을 정도로 충분히 영리합니다. 

```ts
const v: NamedVector = {x:3, y:4,name: 'Zee'};
calculateLength(v); // 정상, 결과는 5
```

흥미로운 점은 Vector2D와 NamedVector의 관계를 전혀 선언하지 않았다는 것입니다.



